(function (){"use strict";var interval, site, site_supported, grooveshark=function (){var e="Grooveshark - " + $("#now-playing-metadata").text();return e;}, pandora=function (){var e="Pandora - " + $(".info .playerBarSong").text() + " - " + $(".info .playerBarArtist").text();return e;}, plug=function (){var e="Plug.dj - " + $("#now-playing-value").text();return e;}, zaycev=function (){var e="Zaycev - " + $("#zp_current_song .ontheair_artist").text() + $("#zp_current_song .ontheair_song").text();return e;}, eighttracks=function (){var e="8tracks - " + $(".t").text() + " - " + $(".a").text();return e;}, rdio=function (){var e="Rdio - " + $(".song_title").text() + " - " + $(".text_metadata .artist_title").text();return e;}, soundcloud=function (){var e=$("title").text().replace("â–¶ ", "Soundcloud - ");return e;}, youtify=function (){var e="Youtify - " + $(".info .title").text();return e;}, redirects={grooveshark: grooveshark, plug: plug, pandora: pandora, zaycev: zaycev, "8tracks": eighttracks, rdio: rdio, soundcloud: soundcloud, youtify: youtify}, check_song=function (){var song=redirects[site]();$('title').text(song);$('.SMGCurrentSong').text(song);}, start=function (){if (site_supported){interval=setTimeout(check_song, 5000);}}, stop=function (){if (interval){clearInterval(interval);}}, website_name=function (){var e=window.location.host.split('.')[0];return e;}, not_supported=function (){site_supported=false;$('.SMGSite').text(website_name()) .attr('title', 'For more info, click me!') .attr('href', '') .css('color', 'red') .parent().append('<a href="http://obsproject.com/forum/viewtopic.php?f=22&t=4223">, not suported.</a>');}, supported=function (){site_supported=true;$('.SMGSite').text(website_name()) .css('color', 'green');}, check_for_support=function (){var website=website_name();$('.SMGSite').text(website);if (website in redirects){supported();}else{not_supported();}}, add_to_document=function (){var html="<div class='SMGContainer'><style>.SMGContainer *{margin: 0;padding: 0;}.SMGContainer{background-color: rgb(240, 240, 255);box-shadow: 0 0 3px black;border: 1px solid rgb(60, 60, 60);color: #444;position: fixed;bottom: 30px;right: 30px;width: 300px;height: 180px;}.SMGContainer h1{line-height: 16px;font-family: helvetica;font-size: 15px;}.SMGInformation{margin: 10px;}.SMGControls{margin: 10px;}.SMGCurrentPlayingSong{font-weight: bold;}.SMGLogo{display: inline-block;width: 16px;height: 16px;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCElEQVR42qVTgQ2CQAz83wA30AnEDZ4NYAJ1AnUCZAJlAt1AN9AN1AlkBDbANlzfh5RIYpMLfqnX3vWx5s+wA/mYkBLmOL8IV8LzF8GUcCI4FN+RdyDlc0aoNQIuuBEqwlrpxiQHNFmgrkPwwDMJO/QiQhMDEk+wArtnhgcxfIjwe4JallmwL0LgMNo56NYMmB7mMyGIlLEbyLkHZ4tGb2zFEzQYaT+CQCRzvrLQJgbOMImsMsN0F2VrqqYCzOJ0EhBUMLmGhJJwFEbRteMkRjQ9UyVY5kY2ZnsvctNeIu2PHFvTrtvXWIU9h4zSfO8E+7SEL50G2sfkMGIa5GqsjUk7V3zoaxwdH/3tQ5EfsW3gAAAAAElFTkSuQmCC);}.SMGSite{font-weight: bold;}.SMGSite + a, .SMGSite + a:active, .SMGSite + a:visited{color: red;text-decoration: none;}</style><div class='SMGInformation'><h1><span class='SMGLogo'></span> Groovemarklet, yay!</h1><br/><span class='SMGCurrentPlayingSong'>No song playing</span><p>You're on: <span class='SMGSite'></span></p></div><hr/><div class='SMGControls'><p class='SMGRunning'>Running</p><button class='SMGStart'>Stop</button></div></div>";$('body').append(html);}, SMGInit=function (){site=website_name();check_for_support();$('.SMGStart').click(function (){if ($(this).text()==="Start"){$(".SMGRunning").text("Running.");$(this).text("Stop");start();}else if ($(this).text()==="Stop"){$(".SMGRunning").text("Not running.");$(this).text("Start");stop();}});start();};add_to_document();$('.SMGContainer').hide().fadeIn(200, SMGInit);}());