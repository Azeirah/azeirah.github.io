(function(e){function t(t){if(typeof t.data==="string"){t.data={keys:t.data}}if(!t.data||!t.data.keys||typeof t.data.keys!=="string"){return}var n=t.handler,r=t.data.keys.toLowerCase().split(" "),i=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){if(this!==t.target&&(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,i)>-1)){return}var s=e.hotkeys.specialKeys[t.keyCode],o=t.type==="keypress"&&String.fromCharCode(t.which).toLowerCase(),u="",a={};if(t.altKey&&s!=="alt"){u+="alt+"}if(t.ctrlKey&&s!=="ctrl"){u+="ctrl+"}if(t.metaKey&&!t.ctrlKey&&s!=="meta"){u+="meta+"}if(t.shiftKey&&s!=="shift"){u+="shift+"}if(s){a[u+s]=true}if(o){a[u+o]=true;a[u+e.hotkeys.shiftNums[o]]=true;if(u==="shift+"){a[e.hotkeys.shiftNums[o]]=true}}for(var f=0,l=r.length;f<l;f++){if(a[r[f]]){return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})})(this.jQuery);(function(){"use strict";var e,t,n,r=function(){var e="Grooveshark - "+$("#now-playing-metadata").text();return e},i=function(){var e="Pandora - "+$(".info .playerBarSong").text()+" - "+$(".info .playerBarArtist").text();return e},s=function(){var e="Plug.dj - "+$("#now-playing-value").text();return e},o=function(){var e="Zaycev - "+$("#zp_current_song .ontheair_artist").text()+$("#zp_current_song .ontheair_song").text();return e},u=function(){var e="8tracks - "+$(".t").text()+" - "+$(".a").text();return e},a=function(){var e="Rdio - "+$(".song_title").text()+" - "+$(".text_metadata .artist_title").text();return e},f=function(){var e=$("title").text().replace("â–¶ ","Soundcloud - ");return e},l=function(){var e="Youtify - "+$(".info .title").text();return e},c={grooveshark:r,plug:s,pandora:i,zaycev:o,"8tracks":u,rdio:a,soundcloud:f,youtify:l},h=function(){var e=c[t]();console.log("groovemarklet: current playing song is: "+e);$("title").text(e);$(".SMGCurrentPlayingSong").text(e)},p=function(){if(n){e=setTimeout(h,5e3)}},d=function(){if(e){clearInterval(e)}},v=function(){var e=window.location.host.split(".")[0];return e},m=function(){n=false;$(".SMGSite").text(v()).attr("title","For more info, click me!").attr("href","").css("color","red").parent().append('<a href="http://obsproject.com/forum/viewtopic.php?f=22&t=4223">, not suported.</a>')},g=function(){n=true;$(".SMGSite").text(v()).css("color","green")},y=function(){var e=v();$(".SMGSite").text(e);if(e in c){g()}else{m()}},b=function(){var e="<div class='SMGContainer'><style>.SMGContainer *{margin: 0;padding: 0;}.SMGContainer{background-color: rgb(240, 240, 255);box-shadow: 0 0 3px black;border: 1px solid rgb(60, 60, 60);color: #444;position: fixed;bottom: 30px;right: 30px;width: 300px;height: 200px;}.SMGContainer h1{line-height: 16px;font-family: helvetica;font-size: 15px;}.SMGInformation{margin: 10px;}.SMGControls{margin: 10px;}.SMGCurrentPlayingSong{font-weight: bold;}.SMGLogo{display: inline-block;width: 16px;height: 16px;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCElEQVR42qVTgQ2CQAz83wA30AnEDZ4NYAJ1AnUCZAJlAt1AN9AN1AlkBDbANlzfh5RIYpMLfqnX3vWx5s+wA/mYkBLmOL8IV8LzF8GUcCI4FN+RdyDlc0aoNQIuuBEqwlrpxiQHNFmgrkPwwDMJO/QiQhMDEk+wArtnhgcxfIjwe4JallmwL0LgMNo56NYMmB7mMyGIlLEbyLkHZ4tGb2zFEzQYaT+CQCRzvrLQJgbOMImsMsN0F2VrqqYCzOJ0EhBUMLmGhJJwFEbRteMkRjQ9UyVY5kY2ZnsvctNeIu2PHFvTrtvXWIU9h4zSfO8E+7SEL50G2sfkMGIa5GqsjUk7V3zoaxwdH/3tQ5EfsW3gAAAAAElFTkSuQmCC);}.SMGSite{font-weight: bold;}.SMGSite + a, .SMGSite + a:active, .SMGSite + a:visited{color: red;text-decoration: none;}</style><div class='SMGInformation'><h1><span class='SMGLogo'></span> Groovemarklet, yay!</h1><br/><span class='SMGCurrentPlayingSong'>No song playing</span><p>You're on: <span class='SMGSite'></span></p></div><hr/><div class='SMGControls'><p class='SMGRunning'>Running</p><button class='SMGStart'>Stop</button><br/><br/><p>Hide and show me with ctrl-m</p></div></div>";$("body").append(e)},w=function(){t=v();y();$(document).bind("keydown","ctrl+m",function(){$("SMGContainer").fadeToggle()});$(".SMGStart").click(function(){if($(this).text()==="Start"){$(".SMGRunning").text("Running.");$(this).text("Stop");p()}else if($(this).text()==="Stop"){$(".SMGRunning").text("Not running.");$(this).text("Start");d()}});p()};b();$(".SMGContainer").hide().fadeIn(200,w)})()